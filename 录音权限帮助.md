# 录音权限帮助文档 🎤

## 为什么需要麦克风权限？

篮球训练助手需要使用麦克风来录制训练指令的语音（如"投篮！"、"突破！"等），这样在训练时系统就能播放您自己录制的语音提示。

---

## 如何授予麦克风权限

### 方法1：在权限请求弹窗中允许（推荐）

**步骤**：
1. 点击任意指令的"录音"按钮
2. 浏览器会弹出权限请求提示
3. 点击<strong>"允许"</strong>或<strong>"Allow"</strong>
4. 开始录音

**示例提示文字**：
```
该网站想要使用您的麦克风
[ 阻止 ] [ 允许 ]
```

⚠️ **重要**：如果您不小心点击了"阻止"或"拒绝"，请参考下面的方法2。

---

### 方法2：在浏览器设置中手动授予

#### Chrome 浏览器（电脑）

1. 点击地址栏左侧的 **🔒 锁图标**
2. 在弹出的菜单中找到"麦克风"
3. 从下拉菜单选择<strong>"允许"</strong>
4. 关闭弹窗
5. **刷新页面**（按 F5 或点击刷新按钮）
6. 再次点击"录音"按钮

#### Safari 浏览器（Mac/iPhone/iPad）

**Mac版Safari**：
1. 点击地址栏左侧的 **ⓘ 信息图标** 或 **🔒**
2. 点击"设置此网站"
3. 找到"麦克风"选项
4. 选择<strong>"允许"</strong>
5. 刷新页面

**iPhone/iPad版Safari**：
1. 点击地址栏左侧的 **aA** 图标
2. 点击"网站设置"
3. 找到"麦克风"
4. 选择<strong>"允许"</strong>
5. 刷新页面

#### Firefox 浏览器

1. 点击地址栏左侧的 **🔒 锁图标** 或 **ⓘ**
2. 点击"连接安全"旁边的 **>** 箭头
3. 点击"更多信息"
4. 在"权限"标签页中找到"使用麦克风"
5. 取消勾选"使用默认设置"
6. 选择<strong>"允许"</strong>
7. 关闭窗口并刷新页面

#### Edge 浏览器

1. 点击地址栏左侧的 **🔒 锁图标**
2. 找到"麦克风"权限
3. 选择<strong>"允许"</strong>
4. 刷新页面

---

### 方法3：在浏览器全局设置中允许（高级）

#### Chrome 全局设置

1. 打开 Chrome 设置（地址栏输入 `chrome://settings/content/microphone`）
2. 在"允许"列表中添加您的网站地址
3. 返回网站并刷新页面

#### Safari 全局设置（Mac）

1. Safari 菜单 → 偏好设置 → 网站
2. 左侧选择"麦克风"
3. 找到您的网站，设置为"允许"
4. 刷新页面

---

## 手机浏览器权限设置

### Android手机（Chrome/Edge）

**如果浏览器内权限被拒绝**：
1. 点击地址栏左侧的锁图标
2. 找到"麦克风"并设置为"允许"
3. 刷新页面

**如果系统权限未开启**：
1. 打开手机"设置"
2. 找到"应用"或"应用管理"
3. 找到您使用的浏览器（Chrome/Edge等）
4. 点击"权限"
5. 找到"麦克风"并开启
6. 返回浏览器刷新页面

### iPhone/iPad（Safari）

**浏览器内设置**：
1. 点击地址栏的 **aA** 图标
2. 点击"网站设置"
3. 找到"麦克风"并设置为"允许"
4. 刷新页面

**如果系统权限未开启**：
1. 打开"设置" App
2. 向下滚动找到"Safari"
3. 确保"麦克风"开关是打开的
4. 返回Safari刷新页面

---

## 常见问题

### Q1: 我点了"允许"，但还是显示权限被拒绝？
**A**: 尝试以下步骤：
1. 完全关闭浏览器并重新打开
2. 清除浏览器缓存
3. 检查系统设置中是否允许浏览器访问麦克风
4. 尝试使用其他浏览器

### Q2: 手机上怎么都无法录音？
**A**: 
1. 检查手机系统设置中是否允许浏览器访问麦克风
2. 检查是否有其他应用正在使用麦克风
3. 尝试重启手机
4. 更新浏览器到最新版本

### Q3: 点击录音没有任何反应？
**A**:
1. 打开浏览器控制台（F12），查看是否有错误信息
2. 确保设备连接了麦克风（电脑）或麦克风功能正常（手机）
3. 尝试访问其他需要麦克风的网站测试麦克风是否正常
4. 检查是否使用了 HTTPS 连接（非 localhost）

### Q4: HTTPS 是什么？为什么需要？
**A**: 
- HTTPS 是安全的网络连接协议
- 现代浏览器要求使用 HTTPS 才能访问麦克风等敏感权限
- 如果您部署到 Netlify，会自动使用 HTTPS
- 本地开发使用 localhost 也可以访问麦克风

### Q5: 我清除了浏览器数据，权限需要重新设置吗？
**A**: 
是的。清除浏览器数据会同时清除权限设置。您需要重新授予麦克风权限。

### Q6: 可以不录音直接使用吗？
**A**: 
不建议。没有录音的指令在训练时不会播放任何声音，影响训练体验。建议为每个指令都录制语音。

---

## 测试麦克风是否正常

### 简单测试
1. 点击任意指令的"录音"按钮
2. 说几个字
3. 点击"停止"
4. 点击播放按钮
5. 如果能听到自己的声音，说明麦克风正常

### 浏览器自带测试
- **Chrome**: 访问 `chrome://settings/content/microphone`，点击"测试"
- **在线测试**: 访问 https://webcammictest.com/check-mic.html

---

## 隐私说明

### 您的录音数据：
- ✅ 完全存储在您的设备本地（浏览器 localStorage）
- ✅ 不会上传到任何服务器
- ✅ 不会被分享或泄露
- ✅ 只在您的设备上使用
- ✅ 您可以随时删除

### 权限说明：
- 应用只在您点击"录音"时访问麦克风
- 不会在后台偷偷录音
- 录音完成后会立即停止麦克风访问
- 您可以随时在浏览器设置中撤销权限

---

## 仍然无法解决？

### 请提供以下信息以便诊断：

1. **使用的设备**：电脑 / 手机（品牌型号）
2. **使用的浏览器**：Chrome / Safari / Firefox / Edge（版本号）
3. **错误信息**：具体的错误提示文字
4. **操作步骤**：您做了什么，在哪一步出现问题

### 替代方案：

如果实在无法使用录音功能，可以考虑：
1. 使用其他设备（如手机/平板/电脑）
2. 使用其他浏览器
3. 使用系统自带的语音录制功能录制音频文件（未来版本可能支持上传音频文件）

---

**祝您使用愉快！🏀**

如果成功解决了问题，就可以开始录制您的训练指令啦！
