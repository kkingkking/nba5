# 新功能更新说明 🎉

## 本次更新内容

### 1. ✅ 修改指令分组功能
**位置**：指令管理页面，每个指令名称右侧

**使用方法**：
- 点击指令右侧的"改分组"按钮
- 在弹出的对话框中选择新的分组
- 点击"保存"即可

**场景**：
- 创建指令时忘记分配分组
- 想要重新组织指令分类
- 将指令从一个分组移到另一个分组

---

### 2. ✅ 改进录音功能
**改进内容**：
- 更好的浏览器兼容性检测
- 详细的错误提示信息
- 自动选择最佳音频格式
- 改进的错误处理

**使用方法**：
1. 点击"录音"按钮开始录音
2. 说出训练指令（如："投篮！"）
3. 点击"停止"按钮完成录音
4. 如果需要重新录制，点击"重录"按钮

**可能的问题和解决**：
- **问题**：点击录音没反应
  - **解决**：检查浏览器是否允许麦克风权限
  - **解决**：确认设备有可用的麦克风
  - **解决**：尝试刷新页面后重新录音

- **问题**：提示"浏览器不支持录音"
  - **解决**：使用 Chrome、Firefox 或 Safari 等现代浏览器
  - **解决**：更新浏览器到最新版本

- **问题**：提示"麦克风权限被拒绝"
  - **解决**：点击地址栏左侧的锁图标
  - **解决**：找到"麦克风"权限，设置为"允许"
  - **解决**：刷新页面后重试

---

### 3. ✅ 分组快捷批量设置
**位置**：指令管理页面，每个分组标题右侧

**使用方法**：
- 每个分组标题旁有快捷按钮：1次、3次、5次、10次
- 点击任意按钮，该分组内所有指令的"单次训练播放次数"会被设置为对应的值

**示例场景**：

**场景1：基础训练**
- 点击"基础动作"分组的"10次"按钮
- 该分组内所有指令（投篮、运球等）都设置为单次训练播放10次

**场景2：混合训练**
- "基础动作"分组点击"10次"
- "进阶技巧"分组点击"5次"
- "挑战动作"分组点击"1次"
- 一键完成所有设置，立即开始训练

**优势**：
- 比勾选指令再批量设置更快
- 适合按分组设置不同强度的训练
- 提高训练准备效率

---

## 完整操作流程示例

### 快速开始训练（推荐）

1. **创建分组**
   - 创建"基础"、"进阶"、"挑战"三个分组

2. **添加指令并录音**
   - 添加指令：投篮、运球、传球（分配到"基础"分组）
   - 添加指令：变向、转身、跳步（分配到"进阶"分组）
   - 添加指令：背后运球、胯下运球（分配到"挑战"分组）
   - 为每个指令录音

3. **快速设置训练次数**
   - 点击"基础"分组的"10次"
   - 点击"进阶"分组的"5次"
   - 点击"挑战"分组的"3次"
   - 完成！所有指令的单次训练次数已设置

4. **配置训练**
   - 切换到"训练配置"页面
   - 设置训练时长：10分钟
   - 设置指令间隔：5-10秒
   - 点击"开始训练"

5. **开始训练**
   - 系统会随机播放指令
   - 按照语音提示完成动作
   - 训练结束后自动更新累计训练次数

---

## 三种批量设置方式对比

### 方式1：全局批量设置
- **位置**：勾选指令后，页面顶部工具栏
- **适用**：需要精确控制每个指令，跨分组批量设置
- **步骤**：勾选指令 → 批量设置

### 方式2：分组快捷设置 ⭐推荐
- **位置**：每个分组标题右侧
- **适用**：按分组设置不同强度
- **步骤**：直接点击分组旁的次数按钮

### 方式3：单个设置
- **位置**：每个指令的"单次 X 次"
- **适用**：精细调整个别指令
- **步骤**：点击 → 输入 → 保存

**建议**：先用方式2快速设置分组，再用方式3微调个别指令

---

## 常见问题

**Q1: 修改了指令的分组，会影响已录制的语音吗？**
A: 不会。语音数据和分组是独立的，修改分组不会影响任何已有数据。

**Q2: 分组快捷设置会覆盖我之前的设置吗？**
A: 是的。点击分组的快捷按钮会将该分组内所有指令设置为相同的次数。如果需要保留某些指令的设置，请使用单个设置或全局批量设置。

**Q3: 录音文件存储在哪里？**
A: 录音数据存储在浏览器的 localStorage 中，不会上传到任何服务器，完全本地使用。

**Q4: 为什么我的录音在某些设备上无法播放？**
A: 不同浏览器支持的音频格式不同，系统会自动选择最佳格式。如遇问题，建议使用 Chrome 浏览器。

**Q5: 可以导出我的训练数据吗？**
A: 当前版本数据存储在本地。如需备份，请不要清除浏览器数据。未来版本可能会添加导出功能。

---

## 下一步

现在所有功能都已完成，可以：
1. 本地测试所有功能
2. 确认录音功能正常
3. 测试分组修改和快捷批量设置
4. 部署到 Netlify
5. 在手机上安装使用

祝训练愉快！🏀
