# 版本历史

## v31 (2025-10-22) - 麦克风权限优化版

### 🎯 主要优化
1. **简化麦克风权限处理**
   - 移除复杂的权限预检查逻辑
   - 移除首次使用欢迎引导（可能干扰权限请求）
   - 让浏览器在用户点击录音时自然请求权限
   - 只在实际遇到错误时显示帮助信息

2. **增强训练随机性**
   - 使用 Fisher-Yates 洗牌算法确保真正随机
   - 优化指令打乱逻辑，避免使用不可靠的 `sort()`
   - 为每个指令分配随机时间间隔

3. **代码优化**
   - 移除未使用的 `commandConfigs` 相关代码
   - 简化状态管理
   - 优化组件结构
   - 改进错误提示的清晰度

### ✨ 新增功能
- 添加应用版本号显示
- 首次使用时显示友好的使用提示
- 训练计划生成日志（控制台）

### 🐛 问题修复
- 修复麦克风权限被过度检查导致的问题
- 修复训练进度统计显示不正确的问题
- 简化权限帮助对话框，更易理解

### 📝 使用说明
1. 打开应用后，点击"添加指令"创建训练动作
2. 点击麦克风按钮录制语音时，浏览器会自动请求权限
3. 在弹出的权限请求中选择"允许"
4. 如果遇到权限问题，查看错误提示中的"查看帮助"按钮

---

## v30 及之前版本
详见之前的更新说明文档
